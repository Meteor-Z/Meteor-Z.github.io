<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Effective-Objective-C总结 | Meteor-Z个人播客</title><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/fonts.css><link href=//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/styles/github.min.css rel=stylesheet></head><body><nav><ul class=menu><li><a href=/>Home</a></li><li><a href=/about/>关于</a></li><li><a href=/work>工作笔记</a></li><li><a href=/posts/>随笔笔记</a></li><li><a href=/categories/>分类</a></li><li><a href=/tags/>标签</a></li><li><a href=/summarize/>总结</a></li><li><a href=/tips/>Tips</a></li><li><a href=/index.xml>订阅</a></li></ul><hr></nav><div class=article-meta><h1><span class=title>Effective-Objective-C总结</span></h1><h2 class=author>Meteor-Z</h2><h2 class=date>2025/05/10</h2><p class=terms>Categories: <a href=/categories/ios>iOS</a>
Tags: <a href=/tags/object-c>Object-C</a> <a href=/tags/ios>iOS</a> <a href=/tags/effective-objective-c>Effective-Objective-C</a></p></div><main><p>书是挺好的，但是翻译有的时候翻译真的有点烂，这里写一下我学习过程中，对例子解析一下。</p><h2 id=6-了解属性的概念>6 了解属性的概念</h2><p>这里引出OC和C++是不一样的，C++是使用offset的形式找到对应的数据变量，但是这样可能因为在不同的DLL导致起定义出错而crash，OC中将实例变量交给类对象管理，然后在运行期查找，不直接在编译期确定，可以避免上述的crash。甚至可以在运行期加入成员。</p><h2 id=7-在对象内部尽量直接访问实例变量>7 在对象内部尽量直接访问实例变量</h2><p>我写代码的时候，经常有以下问题，一段代码中可以使用self.xxx或者_xxx进行访问，其中使用self.xxx可以使用懒加载，但是这里好像更推荐使用直接访问实例变量，也就是_xx这样，原因如下：</p><ul><li>不会触发信息派发，那么就不会走msg_Send那一套，那么速度就会快一些</li><li>如果直接访问实例变量，那么就不会触发KVO（也就是键值观察）？</li><li>但是有时候可能使用懒加载，那么这时候可能就需要self.xxxx了，所以就有一个折中，如果是在写入的话，那么就通过设置方法self.xxx来做，如果是读取，那么就直接访问。</li></ul><h2 id=12-理解动态转发>12 理解动态转发</h2><p><a href=https://juejin.cn/post/6844903600968171533>这篇</a>讲得不错，其中的<a href=https://gist.github.com/Meteor-Z/d59cfb165345779c29dfee682dcb96c8>代码样例</a>。</p><ol><li>先看自己能不能解决，往自己对象里面加入方法，然后再跑一遍消息转发</li><li>自己不能解决，就让别的对象解决，看其他对象能不能能处理，比如说这个self的一些子类可能会处理这个self的方法</li><li>forwardingInvocation直接兜底，要么吃掉，要么转发其他对象，要么换成其他消息，如果怎么都不行最后直接doesNotRecognizeSelector报错。</li></ol><p><img src=./%E6%B6%88%E6%81%AF%E8%BD%AC%E5%8F%91.png alt=消息转发></p></main><footer><script src=//cdn.jsdelivr.net/combine/npm/katex/dist/katex.min.js,npm/katex/dist/contrib/auto-render.min.js,npm/@xiee/utils/js/render-katex.js defer></script>
<script src=//cdn.jsdelivr.net/npm/@xiee/utils/js/center-img.min.js defer></script>
<script src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/highlight.min.js></script>
<script src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/languages/r.min.js></script>
<script>hljs.configure({languages:[]}),hljs.initHighlightingOnLoad()</script><hr><a href=/change-log>ChangeLog</a><br>© <a href=https://github.com/Meteor-Z>Liu Zechen</a> 2022 &ndash; 2025 | All rights reserved.</footer></body></html>