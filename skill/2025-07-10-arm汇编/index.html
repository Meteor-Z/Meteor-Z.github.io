<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>ARM汇编 | Meteor-Z个人播客</title><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/fonts.css><link href=//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/styles/github.min.css rel=stylesheet></head><body><nav><ul class=menu><li><a href=/>Home</a></li><li><a href=/about/>关于</a></li><li><a href=/skill>技术笔记</a></li><li><a href=/posts/>随笔笔记</a></li><li><a href=/categories/>分类</a></li><li><a href=/tags/>标签</a></li><li><a href=/summarize/>资料整理</a></li><li><a href=/tips/>Tips</a></li><li><a href=/index.xml>订阅</a></li></ul><hr></nav><div class=article-meta><h1><span class=title>ARM汇编</span></h1><h2 class=author>Meteor-Z</h2><h2 class=date>2025/07/10</h2><p class=terms>Categories: <a href=/categories/ios>iOS</a>
Tags: <a href=/tags/ios>iOS</a> <a href=/tags/%E6%B1%87%E7%BC%96>汇编</a></p></div><main><h2 id=寄存器>寄存器</h2><p>ARM一共有33个寄存器，0-30是通用寄存器，31和32是专用寄存器（31是sp寄存器，32是pc寄存器），所以是31个通用寄存器，两个特殊寄存器，当然，还有几个是状态寄存器，</p><p>前31个寄存器的访问方式是：</p><ol><li>使用X0～X30来访问时，是64位数据</li><li>使用W0～W30访问时，是低32位的数据</li></ol><p>对于特殊寄存器来说：</p><ul><li>32bit的时候，作为栈帧寄存器（stack point,SP）的时候，用WSP来访问</li><li>64bit的时候，作为栈帧寄存器（stack point,SP）的时候，用SP来访问</li><li>32bit的时候，作为零寄存器（Zero register）的时候，用WZR来访问</li><li>64bit的时候，作为零寄存器（Zero register）的时候，用WZ来访问</li></ul><p>常用寄存器如下：</p><ul><li>X0 ~X7：传递函数的参数，如果有更多参数，则通过栈来传递<ul><li>X0：<ul><li>既可以当参数的返回值，又可以当参数的传递</li><li>这里的X0，X1可以直接跟msg_Send一样绑定，第一个参数是self，第二个参数是选择子，第三个参数之后就是真正的参数。</li></ul></li></ul></li><li>SP，上述的栈指针寄存器，维护栈指针，指向栈的顶端。</li><li>FP（Frame Point），X29，栈指针寄存器，指向栈的底部</li><li>LR （Link Register）X30，链接寄存器，存储的是函数调用完成的返回地址<ul><li>函数栈为什么知道这个，就是使用LR指针。</li></ul></li><li>PC（Programe Counter）: 程序寄存器，表示的是程序的下一行地址的位置。</li><li>X19寄存器：i0S中有很多self这样的标识自身，这个地址就是放在X19上</li></ul><h2 id=常用指令>常用指令</h2><ul><li>SVC：调一个系统调用</li></ul><h2 id=函数>函数</h2><ul><li>X0-X7放函数的参数，</li><li>X0作为函数的返回值，如果是结构体的话，那么就将用X8兼容一下</li><li>X19基本都是self,基本调一下</li></ul><h2 id=函数跳转>函数跳转</h2></main><footer><script src=//cdn.jsdelivr.net/combine/npm/katex/dist/katex.min.js,npm/katex/dist/contrib/auto-render.min.js,npm/@xiee/utils/js/render-katex.js defer></script>
<script src=//cdn.jsdelivr.net/npm/@xiee/utils/js/center-img.min.js defer></script>
<script src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/highlight.min.js></script>
<script src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/languages/r.min.js></script>
<script>hljs.configure({languages:[]}),hljs.initHighlightingOnLoad()</script><hr><a href=/change-log>ChangeLog</a><br>© <a href=https://github.com/Meteor-Z>Liu Zechen</a> 2022 &ndash; 2025 | All rights reserved.</footer></body></html>